<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/ovn-kubernetes/assets/css/style.css?v=9e6c62f21184b23c5bdbecd995abe5f149115b0f" media="screen" type="text/css">
    <link rel="stylesheet" href="/ovn-kubernetes/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Config variables | OVN-Kubernetes Homepage</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Config variables" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="test" />
<meta property="og:description" content="test" />
<link rel="canonical" href="http://www.ovn.org/ovn-kubernetes/config.html" />
<meta property="og:url" content="http://www.ovn.org/ovn-kubernetes/config.html" />
<meta property="og:site_name" content="OVN-Kubernetes Homepage" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Config variables" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"test","headline":"Config variables","url":"http://www.ovn.org/ovn-kubernetes/config.html"}</script>
<!-- End Jekyll SEO tag -->


    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/ovn-kubernetes/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://www.ovn.org/ovn-kubernetes/">
          <h1>OVN-Kubernetes Homepage</h1>
        </a>
        <h2>test</h2>
        
          <a href="https://github.com/ovn-org/ovn-kubernetes" class="button"><small>View project on</small> GitHub</a>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="config-variables">Config variables</h1>

<h2 id="initial-setup">Initial setup</h2>

<p>If you want to override the default values for some config options, then the
file available in this repo (etc/ovn_k8s.conf) must be copied to the following
locations:</p>

<ul>
  <li>on Linux:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/openvswitch/ovn_k8s.conf
</code></pre></div>    </div>
    <p>The following command copies the config file if it is run from inside the repo:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cp etc/ovn_k8s.conf /etc/openvswitch/ovn_k8s.conf
</code></pre></div>    </div>
  </li>
  <li>on Windows:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:\etc\ovn_k8s.conf
</code></pre></div>    </div>
    <p>The following PowerShell command copies the config file if is run from inside
the repo:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Copy-Item ".\etc\ovn_k8s.conf" -Destination (New-Item "C:\etc" -Type container -Force)
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="config-values">Config values</h2>

<p>The config file contains common configuration options shared between the various
ovn-kubernetes programs (ovnkube, ovn-k8s-cni-overlay, etc).  All configuration
file options can also be specified as command-line arguments which override
config file options; see the -help output of each program for more details.</p>

<h3 id="default-section">[default] section</h3>

<p>The following config option represents the MTU value which should be used
for the overlay networks.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mtu=1400
</code></pre></div></div>

<p>The following option affects only the gateway nodes. This value is used to
track connections that are initiated from the pods so that the reverse
connections go back to the pods. This represents the conntrack zone used
for the conntrack flow rules.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conntrack-zone=64000
</code></pre></div></div>

<p>The following option only affects ovn-controller. This is the maximum number
of milliseconds of idle time on connection to the server before sending an
inactivity probe message.  As a client connects to the server over TCP, it
may take a while for the kernel to figure out if the connection is
broken.  But the client can overcome this by periodically sending probes over
the TCP connection to make sure that the connection is up.  On the flip side,
when there are hundreds of nodes, the server can get bogged down by client
probe messages.</p>

<p>The default value is set as 100000ms. But can be changed with this config
option</p>

<p>inactivity-probe=600000</p>

<h3 id="logging-section">[logging] section</h3>

<p>The following config values control what verbosity level logging is written at
and to what file (if any).</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loglevel=5
logfile=/var/log/ovnkube.log
</code></pre></div></div>

<h3 id="cni-section">[cni] section</h3>

<p>The following config values are used for the CNI plugin.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conf-dir=/etc/cni/net.d
plugin=ovn-k8s-cni-overlay
</code></pre></div></div>

<h3 id="kubernetes-section">[kubernetes] section</h3>

<p>Kubernetes API options are stored in the following section.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apiserver=https://1.2.3.4:6443
token=TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gQ3JhcyBhdCB1bHRyaWNpZXMgZWxpdC4gVXQgc2l0IGFtZXQgdm9sdXRwYXQgbnVuYy4K
cacert=/etc/kubernetes/ca.crt
</code></pre></div></div>

<h3 id="ovnnorth-section">[ovnnorth] section</h3>

<p>This section contains the address and (if the ‘ssl’ method is used) certificates
needed to use the OVN northbound database API. Only the the ovn-kubernetes
master needs to specify the ‘server’ options.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>address=ssl:1.2.3.4:6641
client-privkey=/path/to/private.key
client-cert=/path/to/client.crt
client-cacert=/path/to/client-ca.crt
server-privkey=/path/to/private.key
server-cert=/path/to/server.crt
server-cacert=/path/to/server-ca.crt
</code></pre></div></div>

<h3 id="ovnsouth-section">[ovnsouth] section</h3>

<p>This section contains the address and (if the ‘ssl’ method is used) certificates
needed to use the OVN southbound database API. Only the the ovn-kubernetes
master needs to specify the ‘server’ options.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>address=ssl:1.2.3.4:6642
client-privkey=/path/to/private.key
client-cert=/path/to/client.crt
client-cacert=/path/to/client-ca.crt
server-privkey=/path/to/private.key
server-cert=/path/to/server.crt
server-cacert=/path/to/server-ca.crt
</code></pre></div></div>

        </section>

        <aside id="sidebar">
          

          
            <p class="repo-owner"><a href="https://github.com/ovn-org/ovn-kubernetes">ovn-kubernetes</a> is maintained by <a href="https://github.com/ovn-org">ovn-org</a>.</p>
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
