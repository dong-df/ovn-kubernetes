<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/ovn-kubernetes/assets/css/style.css?v=9e6c62f21184b23c5bdbecd995abe5f149115b0f" media="screen" type="text/css">
    <link rel="stylesheet" href="/ovn-kubernetes/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>OVN-Kubernetes Homepage | test</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="OVN-Kubernetes Homepage" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="test" />
<meta property="og:description" content="test" />
<link rel="canonical" href="http://www.ovn.org/ovn-kubernetes/OVN-NORTHD.SSL.html" />
<meta property="og:url" content="http://www.ovn.org/ovn-kubernetes/OVN-NORTHD.SSL.html" />
<meta property="og:site_name" content="OVN-Kubernetes Homepage" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="OVN-Kubernetes Homepage" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"test","headline":"OVN-Kubernetes Homepage","url":"http://www.ovn.org/ovn-kubernetes/OVN-NORTHD.SSL.html"}</script>
<!-- End Jekyll SEO tag -->


    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/ovn-kubernetes/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://www.ovn.org/ovn-kubernetes/">
          <h1>OVN-Kubernetes Homepage</h1>
        </a>
        <h2>test</h2>
        
          <a href="https://github.com/ovn-org/ovn-kubernetes" class="button"><small>View project on</small> GitHub</a>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>If the ovn-northd instance is not running on the same node as OVN NB
and OVN SB database, then you will need to follow the steps below to
secure the communication between ovn-northd and NB/SB databases.</p>

<h2 id="generate-signed-certificates-for-ovn-northd">Generate signed certificates for OVN Northd</h2>
<p>On the node running ovn-northd daemon, run the following commands.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /etc/openvswitch
ovs-pki req ovnnorthd
</code></pre></div></div>

<p>The above command will generate a private key “ovnnorthd-privkey.pem”
and a corresponding certificate request named “ovnnorthd-req.pem”. Copy over
the ovnnorthd-req.pem to the secure machine’s (where you have installed the
ovs-pki utility) /var/lib/openvswitch/pki folder to sign it using the
command below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ovs-pki -b sign ovnnorthd
</code></pre></div></div>

<p>The above command will generate ovnnorthd-cert.pem. Copy over this file back
to the ovn-northd node’s /etc/openvswitch foler. The ovnnorthd-privkey.pem and
ovnnorthd-cert.pem will be used by the ovn-northd to communicate with OVN NB 
and SB database.</p>

<p>Now run the following command to ask ovn-northd to use these
certificates.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat &gt; /etc/openvswitch/ovn-northd-db-params.conf &lt;&lt; EOF
--ovnnb-db=ssl:$CENTRAL_IP:6641 --ovnsb-db=ssl:$CENTRAL_IP:6642 \
-p /etc/openvswitch/ovnnorthd-privkey.pem -c /etc/openvswitch/ovnnorthd-cert.pem \
-C /etc/openvswitch/cacert.pem
EOF

/usr/share/openvswitch/scripts/ovn-ctl restart_northd
</code></pre></div></div>

        </section>

        <aside id="sidebar">
          

          
            <p class="repo-owner"><a href="https://github.com/ovn-org/ovn-kubernetes">ovn-kubernetes</a> is maintained by <a href="https://github.com/ovn-org">ovn-org</a>.</p>
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
