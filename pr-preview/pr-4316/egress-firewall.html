<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/ovn-kubernetes/assets/css/style.css?v=9e6c62f21184b23c5bdbecd995abe5f149115b0f" media="screen" type="text/css">
    <link rel="stylesheet" href="/ovn-kubernetes/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>EgressFirewall | OVN-Kubernetes Homepage</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="EgressFirewall" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="test" />
<meta property="og:description" content="test" />
<link rel="canonical" href="http://www.ovn.org/ovn-kubernetes/egress-firewall.html" />
<meta property="og:url" content="http://www.ovn.org/ovn-kubernetes/egress-firewall.html" />
<meta property="og:site_name" content="OVN-Kubernetes Homepage" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="EgressFirewall" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"test","headline":"EgressFirewall","url":"http://www.ovn.org/ovn-kubernetes/egress-firewall.html"}</script>
<!-- End Jekyll SEO tag -->


    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/ovn-kubernetes/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://www.ovn.org/ovn-kubernetes/">
          <h1>OVN-Kubernetes Homepage</h1>
        </a>
        <h2>test</h2>
        
          <a href="https://github.com/ovn-org/ovn-kubernetes" class="button"><small>View project on</small> GitHub</a>
        
        
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="egressfirewall">EgressFirewall</h1>

<h2 id="introduction">Introduction</h2>

<p>The EgressFirewall feature enables a cluster administrator to
limit the external hosts that a pod in a project can access.
The EgressFirewall object rules apply to all pods that share
the namespace with the egressfirewall object. A namespace only
supports having one EgressFirewallObject.</p>

<h2 id="example">Example</h2>

<p>The yaml  below is an example of a simple egressFirewall object</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">kind</span><span class="pi">:</span> <span class="s">EgressFirewall</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">k8s.ovn.org/v1</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">egress</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Allow</span>
    <span class="na">to</span><span class="pi">:</span>
      <span class="na">dnsName</span><span class="pi">:</span> <span class="s">www.openvswitch.org</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Allow</span>
    <span class="na">to</span><span class="pi">:</span>
      <span class="na">cidrSelector</span><span class="pi">:</span> <span class="s">1.2.3.0/24</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Allow</span>
    <span class="na">to</span><span class="pi">:</span>
      <span class="na">cidrSelector</span><span class="pi">:</span> <span class="s">4.5.6.0/24</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">protocol</span><span class="pi">:</span> <span class="s">UDP</span>
        <span class="na">port</span><span class="pi">:</span> <span class="m">55</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Deny</span>
    <span class="na">to</span><span class="pi">:</span>
      <span class="na">cidrSelector</span><span class="pi">:</span> <span class="s">0.0.0.0/0</span>
</code></pre></div></div>

<p>This example allows Pods in the default namespace to connect to
the host(s) that www.openvswitch.org translates to, any external
host within the range 1.2.3.0 to 1.2.3.255, and in addtion allows
traffic to 4.5.6.0 to 4.5.6.255 only for the UDP protocol on port
number 55 and denies traffic to all other external hosts. The ports 
section is optional and allows the user to specify specific ports 
to and protocols to allow or deny traffic.</p>

<p>The priority of a rule is determined by its placement in the egress
array. An earlier rule is processed before a later rule. In the 
previous example, if the rules are reversed, all traffic is denied,
including any traffic to hosts in the 1.2.3.0/24 CIDR block.</p>

<p>Using the DNS feature assumes that the nodes and masters are located
in a similar location as the DNS entries that are added to the ovn
database are generated by the master.</p>

<p>NOTE: use Caution when using DNS names in deny rules. The DNS interceptor
will never work flawlessly and could allow access to a denied host if the
DNS resolution on the node is different then in the master.</p>

        </section>

        <aside id="sidebar">
          

          
            <p class="repo-owner"><a href="https://github.com/ovn-org/ovn-kubernetes">ovn-kubernetes</a> is maintained by <a href="https://github.com/ovn-org">ovn-org</a>.</p>
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
